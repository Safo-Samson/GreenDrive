<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>test</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

</head>

<body style="background-color: blueviolet;">


  <div>
    <form id="vehicle-form" action="http://127.0.0.1:5000/find-vehicle" method="POST">
      <!--action="http://127.0.0.1:5000/find-vehicle" method="POST" very essential-->
      <input type="text" placeholder="Your registration Number" style="width: 500px; height: 35px" name="number-plate"
        id="number-plate" required><br><br>

      <div class="button">
        <button type="button" id="find-service-button">Find Service</button>
      </div>
    </form>
  </div>

  <div id="vehicle-name">here</div>

  <script>

    // const form = document.getElementById('vehicle-form');
    const numberPlate = document.getElementById('number-plate');
    const vehicleName = document.getElementById('vehicle-name');
    const button = document.getElementById("find-service-button");

    button.addEventListener('click', (event) => {
      event.preventDefault();

      const data = { numberPlate: numberPlate.value };
      console.log('Sending request with data:', data);

      fetch('http://127.0.0.1:5000/find-vehicle', {
        // method: 'POST',
        // headers: {
        //   'Content-Type': 'application/json',
        // },
        // body: JSON.stringify(data),
        mode: 'no-cors'
      })
        .then(response => console.log(response))// response.json())
      //     .then(result => {
      //       vehicleName.textContent = result.vehicleName;
      //       console.log(result);
      //     })
      //     .catch(error => vehicleName.textContent = "Not foundddddddddddddddd" + console.log(error));
      // }
    }
    );
  </script>

</body>

</html>