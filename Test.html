<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>test</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

</head>

<body style="background-color: blueviolet;">


  <div>
    <form action="http://127.0.0.1:5000/find-vehicle" method="POST"> <!--very essential-->
      <input type="text" placeholder="Your registration Number" style="width: 500px; height: 35px" name="number-plate"
        id="number-plate" required><br><br>
    </form>
  </div>

  <div class="button">
    <button type="button" id="find-service-button">Find Service</button>
  </div>

  <div id="vehicle-name">here</div>

  <script>
    const button = document.getElementById('find-service-button');
    const numberPlate = document.getElementById('number-plate');
    const vehicleName = document.getElementById('vehicle-name');

    button.addEventListener('click', () => {

      const data = { numberPlate: numberPlate.value };
      console.log('Sending request with data:', data);

      fetch('http://127.0.0.1:5000/find-vehicle', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },

        body: JSON.stringify(data),
        mode: 'no-cors'
      })
        .then(response => response.json())
        .then(result => {
          vehicleName.textContent = result.vehicleName;
        })
        .catch(error => vehicleName.textContent = "Not found");
    });
  </script>



</body>

</html>